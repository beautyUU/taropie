
import { Suit } from '../types';

// 花色极简字形
export const SUIT_GLYPHS: Record<Suit, string> = {
  [Suit.Major]: "",
  [Suit.Wands]: "M150 200 L150 320", // 竖线（火/行动）
  [Suit.Cups]: "M120 230 Q150 320 180 230", // 曲线（水/情感）
  [Suit.Swords]: "M150 200 L150 320 M130 230 L170 230", // 十字（风/思想）
  [Suit.Pentacles]: "M150 260 m-30 0 a30 30 0 1 0 60 0 a30 30 0 1 0 -60 0", // 圆环（土/物质）
};

// 大阿卡纳核心符号 (22张)
export const MAJOR_SYMBOLS: Record<number, string> = {
  0: "M150 260 m-30 0 a30 30 0 1 0 60 0 a30 30 0 1 0 -60 0 M185 220 L195 210", // 愚者：开口圆+迈出的一点
  1: "M150 210 L150 310 M120 260 L180 260 M120 210 h5 M180 310 h-5", // 魔术师：连接四向
  2: "M120 220 Q150 180 180 220 M120 300 Q150 340 180 300 V220 H120 V300", // 女祭司：门框+月牙
  3: "M120 310 Q150 200 180 310 M150 240 a10 10 0 1 1 0 0.1", // 女皇：丰饶的山峰+种子
  4: "M120 210 H180 V310 H120 V210 M150 210 V310", // 皇帝：稳固的方块布局
  5: "M150 200 V320 M130 240 H170 M135 270 H165 M140 300 H160", // 教皇：阶梯与中轴
  6: "M135 260 a20 20 0 1 0 40 0 a20 20 0 1 0 -40 0 M165 260 a20 20 0 1 0 40 0 a20 20 0 1 0 -40 0", // 恋人：交织的圆
  7: "M120 230 L180 230 L150 310 Z M130 210 L170 210", // 战车：三角底座+意志线
  8: "M130 260 Q150 220 170 260 Q150 300 130 260 M150 240 V280", // 力量：柔和的闭环
  9: "M150 220 V300 M145 220 H155", // 隐士：孤灯/竖线
  10: "M150 260 m-40 0 a40 40 0 1 0 80 0 a40 40 0 1 0 -80 0 M150 220 V300 M110 260 H190", // 命运之轮：四向转轮
  11: "M120 240 H180 M150 240 V310 M130 310 H170", // 正义：天平/对称
  12: "M150 200 V280 L130 310 M170 310 L150 280", // 吊人：反转的视角
  13: "M120 260 Q150 260 180 260 M150 260 L150 220 Q160 210 170 220", // 死神：切割与新芽
  14: "M130 230 L170 230 Q170 310 150 310 Q130 310 130 230", // 节制：流动的杯
  15: "M120 230 L180 290 M180 230 L120 290 M150 230 V290", // 恶魔：束缚的叉号
  16: "M130 320 V220 L170 220 V320 M135 250 L165 270", // 高塔：崩塌的线条
  17: "M150 220 L155 240 L175 245 L155 250 L150 270 L145 250 L125 245 L145 240 Z", // 星星：八角星
  18: "M130 220 Q150 260 170 220 M130 310 Q150 270 170 310", // 月亮：倒影
  19: "M150 260 m-35 0 a35 35 0 1 0 70 0 a35 35 0 1 0 -70 0 M150 210 V225 M150 295 V310 M100 260 H115 M185 260 H200", // 太阳：圆与光芒
  20: "M130 310 V240 Q150 200 170 240 V310", // 审判：觉醒的钟/门
  21: "M150 260 m-45 0 a45 45 0 1 0 90 0 a45 45 0 1 0 -90 0 M150 260 m-5 0 a5 5 0 1 0 10 0 a5 5 0 1 0 -10 0", // 世界：大圆+核心点
};

// 宫廷牌姿态符号
export const COURT_SYMBOLS: Record<number, string> = {
  11: "M150 230 a5 5 0 1 1 0 0.1 M150 250 V310", // Page: 点+竖线 (学习)
  12: "M130 280 L170 250 L130 220", // Knight: 箭头 (冲刺)
  13: "M120 240 Q120 320 150 320 Q180 320 180 240", // Queen: 承载 (容纳)
  14: "M120 310 H180 V250 H120 Z M130 250 V210 H170 V250", // King: 底座+王冠 (掌控)
};

// 小牌布局算法
export const getMinorLayout = (rank: number, suitGlyph: string): string[] => {
  if (rank > 10) return [suitGlyph]; // 宫廷牌只在中央放花色
  
  // 简化的 pattern 算法：根据 rank 生成坐标
  const patterns: Record<number, Array<[number, number]>> = {
    1: [[150, 260]],
    2: [[150, 200], [150, 320]],
    3: [[150, 190], [120, 310], [180, 310]],
    4: [[120, 200], [180, 200], [120, 320], [180, 320]],
    5: [[120, 200], [180, 200], [150, 260], [120, 320], [180, 320]],
    6: [[120, 200], [180, 200], [120, 260], [180, 260], [120, 320], [180, 320]],
    7: [[120, 180], [180, 180], [120, 260], [180, 260], [120, 340], [180, 340], [150, 220]],
    8: [[120, 180], [180, 180], [120, 240], [180, 240], [120, 300], [180, 300], [120, 360], [180, 360]],
    9: [[120, 180], [180, 180], [120, 260], [180, 260], [120, 340], [180, 340], [150, 220], [150, 300], [150, 380]],
    10: [[120, 160], [180, 160], [120, 220], [180, 220], [120, 280], [180, 280], [120, 340], [180, 340], [150, 200], [150, 300]],
  };

  const coords = patterns[rank] || [[150, 260]];
  return coords.map(([x, y]) => `transform="translate(${x-150}, ${y-260})"`);
};
